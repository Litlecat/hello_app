<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="750" viewBox="0 0 1200 750" role="img" aria-label="第九章：Release 打包與裝置選擇（Flutter／RN 對照，APK 生成與安裝）">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#0f172a"/>
      <stop offset="100%" stop-color="#1e293b"/>
    </linearGradient>
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="6" stdDeviation="10" flood-color="#000" flood-opacity="0.25"/>
    </filter>
  </defs>

  <rect x="0" y="0" width="1200" height="750" fill="url(#bg)"/>

  <!-- Header -->
  <g font-family="Inter, Arial, Helvetica, sans-serif" fill="#e2e8f0">
    <text x="60" y="50" font-size="36" font-weight="700">AI vibe coding - 手機 App</text>
    <text x="60" y="90" font-size="22" opacity="0.9">第九章：Release 打包與裝置選擇</text>
  </g>

  <!-- AI Instructions Section -->
  <g transform="translate(60, 130)" font-family="Inter, Arial, Helvetica, sans-serif" filter="url(#shadow)">
    <rect x="0" y="0" width="1080" height="120" rx="16" fill="#600030" stroke="#ef4444" stroke-width="2"/>
    <text x="20" y="30" fill="#ffffff" font-size="18" font-weight="700">Cursor 提示指令</text>
    <g fill="#ffffff" font-size="14">
      <text x="20" y="52">請幫我打包 Release 版本的午餐 App</text>
      <text x="20" y="72">• Flutter 和 React Native 都要生成 APK</text>
      <text x="20" y="92">• 指定安裝到我的實機上</text>
    </g>
    <g fill="#fbbf24" font-size="14">
      <text x="600" y="52">提供：裝置 ID、專案路徑、是否有簽名問題</text>
      <text x="600" y="72">打包完要能離線運作</text>
    </g>
  </g>

  <!-- Left: Flutter Release -->
  <g transform="translate(60, 275)" font-family="Inter, Arial, Helvetica, sans-serif" filter="url(#shadow)">
    <rect x="0" y="0" width="530" height="300" rx="16" fill="#0b1220" stroke="#38bdf8" stroke-width="2"/>
    <text x="20" y="36" fill="#e2e8f0" font-size="18" font-weight="700">Flutter Release 打包</text>
    <g fill="#cbd5e1" font-size="16">
      <text x="20" y="76">• 基本打包：flutter build apk --release</text>
      <text x="20" y="104">• 指定裝置：-d &lt;deviceId&gt;</text>
      <text x="20" y="132">• 指定入口：-t lib/main.dart</text>
      <text x="20" y="160">• 直接安裝：flutter install --release -d &lt;deviceId&gt;</text>
      <text x="20" y="188">• 手動安裝：adb install -r build/app/outputs/flutter-apk/app-release.apk</text>
      <text x="20" y="216">• 清理快取：flutter clean &amp;&amp; flutter pub get</text>
      <text x="20" y="244">• 檢查簽名：flutter build apk --release --verbose</text>
      <text x="20" y="272">• APK 位置：build/app/outputs/flutter-apk/</text>
    </g>
  </g>

  <!-- Right: React Native Release -->
  <g transform="translate(600, 275)" font-family="Inter, Arial, Helvetica, sans-serif" filter="url(#shadow)">
    <rect x="0" y="0" width="540" height="300" rx="16" fill="#0b1220" stroke="#4ade80" stroke-width="2"/>
    <text x="20" y="36" fill="#e2e8f0" font-size="18" font-weight="700">React Native Release 打包</text>
    <g fill="#cbd5e1" font-size="16">
      <text x="20" y="76">• 進入目錄：cd lunch_App/android</text>
      <text x="20" y="104">• 清理舊版：./gradlew clean</text>
      <text x="20" y="132">• 打包 APK：./gradlew assembleRelease</text>
      <text x="20" y="160">• 指定裝置：-DdeviceId=&lt;deviceId&gt;</text>
      <text x="20" y="188">• 手動安裝：adb install -r app/build/outputs/apk/release/app-release.apk</text>
      <text x="20" y="216">• RN 安裝：npx react-native run-android --variant=release</text>
      <text x="20" y="244">• 清理快取：./gradlew --stop &amp;&amp; ./gradlew clean</text>
      <text x="20" y="272">• APK 位置：android/app/build/outputs/apk/release/</text>
    </g>
  </g>

  <!-- Device Selection & Verification -->
  <g transform="translate(60, 600)" font-family="Inter, Arial, Helvetica, sans-serif" filter="url(#shadow)">
    <rect x="0" y="0" width="530" height="120" rx="16" fill="#0b1220" stroke="#f59e0b" stroke-width="2"/>
    <text x="20" y="31" fill="#e2e8f0" font-size="18" font-weight="700">裝置選擇與驗證</text>
    <g fill="#cbd5e1" font-size="16">
      <text x="20" y="55">• 查看裝置：flutter devices / adb devices</text>
      <text x="20" y="79">• 驗證安裝：實機圖示、功能正常、斷線運作</text>
      <text x="20" y="103">• 儲存測試：重啟後資料還在</text>
    </g>
  </g>

  <!-- Error Handling -->
  <g transform="translate(600, 600)" font-family="Inter, Arial, Helvetica, sans-serif" filter="url(#shadow)">
    <rect x="0" y="0" width="540" height="120" rx="16" fill="#0b1220" stroke="#ef4444" stroke-width="2"/>
    <text x="20" y="31" fill="#e2e8f0" font-size="18" font-weight="700">常見問題速修</text>
    <g fill="#cbd5e1" font-size="16">
      <text x="20" y="55">• APK 安裝失敗：adb uninstall com.yourcompany.lunchapp</text>
      <text x="20" y="79">• 打包卡住：./gradlew assembleRelease --info</text>
      <text x="20" y="103">• 簽名問題：檢查 flutter doctor --android-licenses</text>
    </g>
  </g>
</svg>